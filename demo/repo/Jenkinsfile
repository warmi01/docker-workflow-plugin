
node {
  git '/tmp/repo'

    docker.withRegistry('https://docker.example.com/', 'docker-registry-login') {
    
    stage 'Bake Docker image'
    sh 'cp demoapp/Docker_v1.0 demoapp/Dockerfile'
    def pcImg = docker.build('demoapp:1.0','demoapp')
    sleep 3
    sh 'docker run -v /var/run/docker.sock:/var/run/docker.sock -d -i -p 8090:8080 demoapp:1.0'
}
